# NEURECTOMY Environment Configuration
# Copy this file to .env.local and fill in the values

# =============================================================================
# Application
# =============================================================================
NODE_ENV=development
APP_NAME=NEURECTOMY
APP_VERSION=0.1.0
APP_URL=http://localhost:16000
API_URL=http://localhost:16080

# =============================================================================
# Database - PostgreSQL (Primary)
# =============================================================================
DATABASE_URL=postgresql://neurectomy:neurectomy@localhost:16432/neurectomy?schema=public
POSTGRES_USER=neurectomy
POSTGRES_PASSWORD=neurectomy
POSTGRES_DB=neurectomy

# =============================================================================
# Database - Neo4j (Graph)
# =============================================================================
NEO4J_URI=bolt://localhost:16475
NEO4J_USER=neo4j
NEO4J_PASSWORD=neurectomy

# =============================================================================
# Database - TimescaleDB (Time-series / 4D)
# =============================================================================
TIMESCALE_URL=postgresql://neurectomy:neurectomy@localhost:16433/neurectomy_ts

# =============================================================================
# Cache - Redis
# =============================================================================
REDIS_URL=redis://localhost:16500
REDIS_PASSWORD=

# =============================================================================
# Message Queue - NATS
# =============================================================================
NATS_URL=nats://localhost:16522
NATS_CLUSTER_ID=neurectomy-cluster

# =============================================================================
# Authentication
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_EXPIRES_IN=30d

# OIDC (Optional - for SSO)
OIDC_ISSUER_URL=
OIDC_CLIENT_ID=
OIDC_CLIENT_SECRET=

# =============================================================================
# AI/ML Services
# =============================================================================
# Ollama (Local LLM)
OLLAMA_URL=http://localhost:16600
OLLAMA_MODEL=llama3.2

# OpenAI (Optional)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4-turbo-preview

# Anthropic (Optional)
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-opus-20240229

# =============================================================================
# Intelligence Foundry - ML Service
# =============================================================================
# Service Configuration
SERVICE_NAME=intelligence-foundry-ml
SERVICE_VERSION=1.0.0
ML_SERVICE_HOST=0.0.0.0
ML_SERVICE_PORT=16081
ML_SERVICE_DEBUG=false

# MLflow Configuration
MLFLOW_TRACKING_URI=http://localhost:16610
MLFLOW_ARTIFACT_ROOT=s3://mlflow-artifacts/
MLFLOW_BACKEND_STORE_URI=postgresql://mlflow:mlflow@localhost:16432/mlflow

# Optuna Configuration
OPTUNA_STORAGE=postgresql://optuna:optuna@localhost:16432/optuna
OPTUNA_DEFAULT_SAMPLER=tpe
OPTUNA_DEFAULT_PRUNER=median

# MinIO / S3 Configuration
S3_ENDPOINT_URL=http://localhost:16950
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=mlflow-artifacts
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin
MLFLOW_S3_ENDPOINT_URL=http://localhost:16950

# Intelligence Foundry PostgreSQL (MLflow)
MLFLOW_POSTGRES_HOST=localhost
MLFLOW_POSTGRES_PORT=16432
MLFLOW_POSTGRES_USER=mlflow
MLFLOW_POSTGRES_PASSWORD=mlflow
MLFLOW_POSTGRES_DB=mlflow

# Intelligence Foundry PostgreSQL (Optuna)
OPTUNA_POSTGRES_HOST=localhost
OPTUNA_POSTGRES_PORT=16432
OPTUNA_POSTGRES_USER=optuna
OPTUNA_POSTGRES_PASSWORD=optuna
OPTUNA_POSTGRES_DB=optuna

# Training Defaults
DEFAULT_BATCH_SIZE=32
DEFAULT_EPOCHS=10
DEFAULT_LEARNING_RATE=0.001
MAX_PARALLEL_TRIALS=4
GPU_MEMORY_FRACTION=0.9

# WebSocket Configuration
WS_HEARTBEAT_INTERVAL=30
WS_MAX_CONNECTIONS=100

# CORS Configuration
CORS_ORIGINS=http://localhost:16000,http://localhost:16080,tauri://localhost,http://localhost:1420

# Legacy ML Service (backward compatibility)
ML_DATABASE_URL=postgresql://neurectomy:neurectomy@localhost:16432/neurectomy
ML_REDIS_URL=redis://localhost:16500

# =============================================================================
# External Services
# =============================================================================
# GitHub
GITHUB_TOKEN=
GITHUB_APP_ID=
GITHUB_APP_PRIVATE_KEY=

# HuggingFace
HUGGINGFACE_TOKEN=

# =============================================================================
# Observability
# =============================================================================
# Logging
LOG_LEVEL=debug
LOG_FORMAT=pretty

# Prometheus
PROMETHEUS_PORT=16900

# Jaeger (Tracing)
JAEGER_ENDPOINT=http://localhost:16920/api/traces

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_3D_ENGINE=true
ENABLE_4D_TIMELINE=true
ENABLE_AI_COPILOT=true
ENABLE_DISCOVERY_ENGINE=true
ENABLE_LEGAL_FORTRESS=false

# =============================================================================
# Development
# =============================================================================
DEBUG=neurectomy:*
RUST_LOG=debug
RUST_BACKTRACE=1
